{% extends "master.html" %}

{% block title %}Set up two-factor authentication{% endblock %}

{% block content %}
<section class="page-header">
    <div>
        <h1 class="page-title">Set up two-factor authentication</h1>
        <p class="page-description">Pair an authenticator app and confirm the one-time code to finish securing your account.</p>
    </div>
</section>

<section class="card-stack">
    <article class="card card-compact">
        <h2>Scan the QR code</h2>
        <p class="page-description">Open your authenticator app and scan the code below. You can also enter the key manually if your app supports it.</p>
        <div class="card centered-card">
            {{ qr_code|safe }}
        </div>
    </article>

    <article class="card form-card">
        <h2>Verify the 6-digit code</h2>
        <form method="post" class="form-grid">
            {% csrf_token %}
            {{ form.non_field_errors }}
            <label for="{{ form.code.id_for_label }}">
                Authentication code
                {{ form.code }}
                {{ form.code.errors }}
            </label>
            <button type="submit" class="btn btn-primary">Verify and enable</button>
        </form>
        <div class="form-footer">
            <p><a href="{% url 'account_login' %}">Skip for now</a></p>
        </div>
    </article>
</section>
{% endblock %}
