{% extends "master.html" %}
{% load static %}

{% block title %}Profile{% endblock %}

{% block content %}
<section class="page-header">
    <div>
        <h1 class="page-title">Account profile</h1>
        <p class="page-description">Manage your personal details and keep track of your account activity.</p>
    </div>
    <div class="page-actions">
        <a href="{% url 'security_settings' %}" class="btn btn-secondary">
            <svg class="icon" aria-hidden="true" focusable="false">
                <use href="{% static 'img/icons/lock.svg' %}#icon-lock"></use>
            </svg>
            Security settings
        </a>
    </div>
</section>

<section class="card-stack">
    <article class="card">
        <h2>Account details</h2>
        <div class="info-grid">
            <div class="info-row">
                <span class="info-label">Email</span>
                <span class="info-value">{{ user.email }}</span>
            </div>
            <div class="info-row">
                <span class="info-label">Member since</span>
                <span class="info-value">{{ user.date_joined|date:"F d, Y" }}</span>
            </div>
            <div class="info-row">
                <span class="info-label">Last login</span>
                <span class="info-value">{{ user.last_login|date:"F d, Y g:i A"|default:"â€”" }}</span>
            </div>
        </div>
    </article>

    <article class="card">
        <h2>Security overview</h2>
        <p class="page-description">Control how you authenticate and recover access to your account.</p>
        <div class="card-stack">
            <div>
                {% if mfa_enabled %}
                    <span class="status-badge enabled">
                        <svg class="icon" aria-hidden="true" focusable="false">
                            <use href="{% static 'img/icons/check.svg' %}#icon-check"></use>
                        </svg>
                        2FA enabled
                    </span>
                    <p class="field-hint">Your authenticator app is required when signing in.</p>
                {% else %}
                    <span class="status-badge disabled">
                        <svg class="icon" aria-hidden="true" focusable="false">
                            <use href="{% static 'img/icons/eye-off.svg' %}#icon-eye-off"></use>
                        </svg>
                        2FA disabled
                    </span>
                    <p class="field-hint">Add a second factor to better protect your vault.</p>
                {% endif %}
            </div>
            <a href="{% url 'security_settings' %}" class="btn btn-primary">Manage security</a>
        </div>
    </article>
</section>
{% endblock %}
