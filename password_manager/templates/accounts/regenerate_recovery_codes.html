{% extends "master.html" %}

{% block title %}Regenerate recovery codes{% endblock %}

{% block content %}
<section class="page-header">
    <div>
        <h1 class="page-title">Regenerate recovery codes</h1>
        <p class="page-description">Generating new codes immediately invalidates the old set. Make sure you can store the replacements securely.</p>
    </div>
</section>

<section class="card card-stack">
    <div class="alert-inline">
        Regenerating will revoke access for anyone with the previous codes. Save the new codes right away.
    </div>
    <div class="card card-compact">
        <h2>What happens</h2>
        <ul class="list-muted">
            <li>Current recovery codes stop working.</li>
            <li>We generate a fresh set of codes.</li>
            <li>Your authenticator app continues to work as usual.</li>
        </ul>
    </div>
    <form method="post" class="card card-compact form-grid">
        {% csrf_token %}
        <label class="info-row">
            <span class="info-label">Confirmation</span>
            <span class="info-value">
                <input type="checkbox" id="acknowledge" data-confirm-toggle="generate-btn">
                I understand the current codes will be revoked
            </span>
        </label>
        <div class="page-actions">
            <button type="submit" class="btn btn-primary" id="generate-btn" disabled>Generate new codes</button>
            <a href="{% url 'security_settings' %}" class="btn btn-ghost">Cancel</a>
        </div>
    </form>
</section>
{% endblock %}
